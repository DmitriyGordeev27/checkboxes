<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<div>
  <input type="checkbox" id="all" onchange="changeAll()">
  <p style="text-indent: 30px;" ><input type="checkbox" id="one" onchange="change123()"> </p>
  <p style="text-indent: 30px;" ><input type="checkbox" id="two" onchange="change123()"> </p>
  <p style="text-indent: 30px;" ><input type="checkbox" id="three" onchange="change123()"> </p>
</div>

<script language="JavaScript">
  var chbox1 = document.getElementById('one');
  var chbox2 = document.getElementById('two');
  var chbox3 = document.getElementById('three');
  var chboxAll = document.getElementById('all');
  function changeAll () {
    function checkedAll () {
      chbox1.checked = true;
      chbox2.checked = true;
      chbox3.checked = true;
    }
    function uncheckedAll () {
      chbox1.checked = false;
      chbox2.checked = false;
      chbox3.checked = false;
    }
    if (chboxAll.checked === true) {
      checkedAll();
    }
    if (chboxAll.checked === false) {
      uncheckedAll();
    }
  }
  function change123() {
    function checked123 () {
      chboxAll.checked = true;
    }
    function uncheked123 () {
      chboxAll.checked = false;
    }
    if (chbox1.checked === true && chbox2.checked === true && chbox3.checked === true) {
      checked123();
    }
    if (chbox1.checked === false || chbox2.checked === false || chbox3.checked === false) {
      uncheked123();
    }
  }
</script>
</body>
</html>